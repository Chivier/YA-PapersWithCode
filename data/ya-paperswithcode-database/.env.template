# YA-PapersWithCode Backend Configuration Template
# Copy this file to .env and configure for your deployment mode

# ====================
# DEPLOYMENT MODE
# ====================
# Options: local, api, service
# - local: Use locally hosted PASA models
# - api: Use OpenAI/Claude API
# - service: Connect to remote PASA service
DEPLOYMENT_MODE=local

# ====================
# LOCAL MODE SETTINGS
# ====================
# Path to model checkpoints (relative or absolute)
MODEL_PATH=checkpoints

# Device for model inference (cpu, cuda, mps)
DEVICE=cpu

# PyTorch data type (float32, float16, bfloat16)
TORCH_DTYPE=float32

# Embedding model for semantic search
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2

# ====================
# API MODE SETTINGS
# ====================
# OpenAI API Configuration
OPENAI_API_KEY=your-openai-api-key-here

# API base URL (for OpenAI-compatible services)
API_BASE=https://api.openai.com/v1

# Model name (gpt-4o-mini-2025-08-07, gpt-4, claude-3-sonnet, etc.)
MODEL_NAME=gpt-4o-mini-2025-08-07

# ====================
# SERVICE MODE SETTINGS
# ====================
# PASA Service URL
PASA_SERVICE_URL=http://localhost:8080

# PASA Service API Key (if authentication is required)
PASA_API_KEY=

# ====================
# COMMON SETTINGS
# ====================
# Maximum tokens to generate
MAX_TOKENS=512

# Temperature for text generation (0.0-1.0)
TEMPERATURE=0.7

# Request timeout in seconds
TIMEOUT=30

# Log level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# ====================
# DATABASE SETTINGS
# ====================
# Database path (SQLite)
DATABASE_PATH=paperswithcode.db

# ====================
# API SERVER SETTINGS
# ====================
# Server host and port
HOST=0.0.0.0
PORT=8000

# CORS allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:5173,http://localhost:3000

# ====================
# SEARCH SETTINGS
# ====================
# Enable agent search
ENABLE_AGENT_SEARCH=true

# Similarity threshold for semantic search (0.0-1.0)
SIMILARITY_THRESHOLD=0.7

# Maximum search results
MAX_SEARCH_RESULTS=50

# ====================
# CACHE SETTINGS
# ====================
# Enable result caching
ENABLE_CACHE=true

# Cache TTL in seconds
CACHE_TTL=3600

# ====================
# FEATURE FLAGS
# ====================
# Enable fallback chains (PASA → API → Semantic → SQL)
ENABLE_FALLBACK=true

# Enable health checks
ENABLE_HEALTH_CHECKS=true

# Enable metrics collection
ENABLE_METRICS=false