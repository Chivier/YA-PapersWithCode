# ============================================
# YA-PapersWithCode Production Configuration
# ============================================
# Simplified configuration for production deployment
# Domain: https://papers-with-code.arcane-read.com
# ============================================

# ====================
# CORE SETTINGS
# ====================
# Deployment mode
DEPLOYMENT_MODE=api_mode  # Use 'local' for PASA models, 'api_mode' for OpenAI

# Skip downloading PASA models from HuggingFace
SKIP_MODEL_DOWNLOAD=true  # Set to false if using local mode

# Environment
NODE_ENV=production
ENVIRONMENT=production

# ====================
# DOMAIN CONFIGURATION
# ====================
DOMAIN=papers-with-code.arcane-read.com
FRONTEND_URL=https://papers-with-code.arcane-read.com
BACKEND_URL=https://papers-with-code.arcane-read.com
API_BASE_URL=https://papers-with-code.arcane-read.com/api/v1

# ====================
# PORT CONFIGURATION
# ====================
# Container internal ports (map these in docker-compose or Nginx Proxy Manager)
BACKEND_PORT=8000
FRONTEND_PORT=3000
REDIS_PORT=6379

# ====================
# OPENAI API (for api_mode)
# ====================
OPENAI_API_KEY=your-openai-api-key-here
MODEL_NAME=gpt-5-mini-2025-08-07
EMBEDDING_MODEL=text-embedding-3-small
MAX_TOKENS=1024
TEMPERATURE=0.5

# ====================
# DATABASE
# ====================
DATABASE_PATH=/app/paperswithcode.db

# ====================
# CORS SETTINGS
# ====================
CORS_ORIGINS=https://papers-with-code.arcane-read.com

# ====================
# SECURITY
# ====================
# IMPORTANT: Generate a secure random key for production!
SECRET_KEY=change-this-to-a-very-long-random-string

# ====================
# CACHE
# ====================
REDIS_ENABLED=true
CACHE_ENABLED=true
CACHE_TTL=3600

# ====================
# SEARCH
# ====================
ENABLE_AGENT_SEARCH=true
MAX_SEARCH_RESULTS=100
USE_PREBUILT_EMBEDDINGS=true

# ====================
# LOGGING
# ====================
LOG_LEVEL=INFO
LOG_FILE=/app/logs/api.log

# ====================
# PERFORMANCE
# ====================
# Workers for production
WEB_CONCURRENCY=4
WORKER_TIMEOUT=120

# ====================
# OPTIONAL FEATURES
# ====================
ENABLE_HEALTH_CHECKS=true
ENABLE_API_DOCS=true
ENABLE_METRICS=false

# ====================
# LOCAL MODE ONLY (if DEPLOYMENT_MODE=local)
# ====================
# MODEL_PATH=checkpoints
# DEVICE=cpu
# TORCH_DTYPE=float32
# USE_MOCK_MODELS=false